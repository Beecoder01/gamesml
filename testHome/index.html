<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0288d1">
    <link rel="apple-touch-icon" href="./apple-touch-icon.png">
    <title>sample PWA aPP</title>
    <link rel="manifest" href="./manifest.webmanifest">
<script>
        if (localStorage.getItem("installed")) {
if(window.navigator.onLine) {
alert("data true ready to proceed");
window.open("https://programcodesfree.blogspot.com/", '_self');
}else{
alert("No Internet connection");
}
        }
    </script>
</head>
<body>
    THIS IS A PWA APP
    <button id="btn1">install</button>
    <script src="./index.js" type="module"></script>
<script>
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt',(e) =>{
        e.preventDefault();
        deferredPrompt = e;
        btn1.addEventListener('click', (e)=>{
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log("accepted");
                    localStorage.setItem("installed",true);
                    location.reload();
                } else {
                    console.log("dismissed");
                }
                deferredPrompt = null;
            });
        });
});
    </script>
</body>
</html>
